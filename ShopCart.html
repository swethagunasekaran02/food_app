<!-- ShopCart.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cart Summary</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
       <link rel="stylesheet" href="css/ecommerce.css">

  <!-- <script src="js concept/e-commerce.js"></script> -->
</head>
<style>
  .product-img {
    height: 80px;
    width:80px; 
    object-fit: contain; 
  }
</style>
<body>
  <!-- navbar -->
  <div class="container-fluid d-flex justify-content-between border border-secondry nav-bar " style="background-color: rgb(227, 230, 229);">
      <div class=" logo">
       <img src="image/header-logo.svg" alt="" style="background-color:black;color: aliceblue;">
      </div>
      <div class=" d-flex">
         <div class="menu">
          <a href="index.html"><b>Home</b></a>
          <a href="wishlist.html"><b>wishlist</b></a>
           <a href="ShopCart.html"><b>AddToCart</b></a>
        </div>
        <div class=" p-2 m-2 icon">
          <i class="fa fa-heart-o fs-5 text position-relative fs-4 "id="wishdetails" aria-hidden="true"></i><span id="wishcount">0</span>
        </div>
         <div class=" p-2 m-2 icon">
          <i class="fa fa-shopping-bag position-relative fs-4 text order-btn" id="details"aria-hidden="true"></i>
          <span class="cartCount">0</span>
        </div>
      </div>
  </div>
  <!-- table -->
    <div style="text-align: center;"><h2>Cart Summary</h2></div>
  <div class="container mt-4">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Product</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody id="cart-table-body">
      </tbody>
    </table>
    </div>
    <div class="me-4">
    <h4 class="text-end" id="grand-total">Total: ₹0</h4>
    <button class="btn btn-success float-end" onclick="payNow()">Proceed to Payment</button>
  </div><br><br>

<!-- footer -->

<div class=" container-fluid d-flex justify-content-evenly footer-box footer-clr">
    <div class="footer">
        <div class="menu-bar">
            <img src="images/6706104d4f29e916e4cae4b8_CLEAN-p-500.png" alt="">
         </div>
         <div class="container footer-design">
            <div class="footer-icon">
                <i class="fa fa-youtube-play" aria-hidden="true"></i>
            </div>
            <div class="footer-icon">
                <i class="fa fa-twitter" aria-hidden="true"></i>
            </div>
            <div class="footer-icon">
                <i class="fa fa-facebook" aria-hidden="true"></i>
            </div>
         </div>
         <p class="EF-TXT">Urban Jungle</p>
         <p class="EF-TXT">Exceptional Results</p>
    </div>
    <div class="footer-body">
        <ul>
            <li>Main</li>
            <li>Home</li>
            <li>About</li>
            <li>Services</li>
            <li>Blog</li>
        </ul>

    </div>
    <div class="footer-body">
        <ul>
            <li>PAGES</li>
            <li>Contact</li>
            <li>Terms & Conditions</li>
            <li>Privacy Policy</li>
            
        </ul>
    </div>
    <div class="footer-body">
        <ul>
            <li>UTILITIES</li>
            <li>Style Guide</li>
            <li>Instructions</li>
            <li>Licenses</li>
            <li>Changelog</li>
            
        </ul>
    </div>
</div>

<div class="container-fluid d-flex justify-content-evenly right-reserved">
    <div class="footer-font">
        @2024 Plants.All Rights Reserved.
    </div>
    <div  class="footer-font">
        Powered By Webflow Built By Rick  Mummery
    </div>
</div>

  <script>
    function loadCart() {
      const cart = JSON.parse(localStorage.getItem("cart")) || {};
      const tbody = document.getElementById("cart-table-body");
      let grandTotal = 0;

      for (const id in cart) {
        const item = cart[id];
        const total = item.qty * parseFloat(item.price);
        grandTotal += total;

        const row = document.createElement("tr");
        row.innerHTML = `
          <td><img src="${item.image}" alt="${item.name}" heigth="100px"class="product-img" /></td>
            <td>${item.qty}</td>
          <td>₹${item.price}</td>
          <td>₹${total.toFixed(2)}</td>
        `;        tbody.appendChild(row);
      }

      document.getElementById("grand-total").innerText = `Total: ₹${grandTotal.toFixed(2)}`;
    }

    function updateWishlistBadge() {
  const wishlist = new Set(JSON.parse(localStorage.getItem("wishlist") || "[]"));
  document.getElementById("wishcount").innerText = wishlist.size;
}

function updateCartBadge() {
    const cart = JSON.parse(localStorage.getItem("cart")) || {};
    let totalQty = 0;
    for (const id in cart) {
      totalQty += cart[id].qty;
    }
    document.querySelector(".cartCount").innerText = totalQty;
  }

 function payNow() {
      alert("Payment successful! Thank you.");
      localStorage.removeItem("cart");
      window.location.href = "index.html"; 
    }

window.onload = function () {
  loadCart();
  updateWishlistBadge();
  updateCartBadge();
}
  
document.getElementById("wishdetails").addEventListener("click",()=>{
  window.location.href="wishlist.html";
  
})
document.getElementById("details").addEventListener("click",()=>{
  window.location.href="ShopCart.html";
})

</script>
</body>
</html>
